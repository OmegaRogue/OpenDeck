<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8" />
		<meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline'; connect-src *" />
		<link rel="stylesheet" href="style.css" />
		<title>OceanDesktop - Settings</title>
    </head>
    <body>
        <table>
            <tr>
                <td><label for="serial-port"> Serial port </label></td>
                <td><input type="text" id="serial-port" /></td>
            </tr>
            <tr>
                <td><label for="thresholds"> Thresholds </label></td>
                <td><input type="text" id="thresholds" /></td>
            </tr>
        </table>
        <hr />
        <button id="apply-changes"> Apply changes </button>
        <script>
            const options = {
                "serialPort": document.getElementById("serial-port"),
                "thresholds": document.getElementById("thresholds")
            }
            for (const [key, value] of Object.entries(options)) {
                value.value = localStorage.getItem(key);
            }
            function applyChanges() {
                for (const [key, value] of Object.entries(options)) {
                    localStorage.setItem(key, value.value);
                }
                alert("Changes have been applied. You may need to restart OceanDesktop for them to take effect.");
            }
            document.getElementById("apply-changes").addEventListener("click", applyChanges);
        </script>
    </body>
</html>